diff --git a/packages/lccontent/package.py b/packages/lccontent/package.py
index 0161946..f7f47cd 100644
--- a/packages/lccontent/package.py
+++ b/packages/lccontent/package.py
@@ -36,6 +36,8 @@ class Lccontent(CMakePackage):
                 '-DCMAKE_CXX_STANDARD=17',
                 '-DCMAKE_MODULE_PATH=%s' % self.spec["pandorapfa"].prefix.cmakemodules
         ]
+        if self.spec.satisfies('%clang'):
+            args.append('-DCMAKE_CXX_FLAGS=-Wno-error')
         return args
 
     def url_for_version(self, version):
diff --git a/packages/fccanalyses/package.py b/packages/fccanalyses/package.py
index efdc97e..b968ba2 100644
--- a/packages/fccanalyses/package.py
+++ b/packages/fccanalyses/package.py
@@ -32,8 +32,9 @@ class Fccanalyses(CMakePackage, Key4hepPackage):
       spack_env.prepend_path('CPATH', self.spec['edm4hep'].prefix.include)
       spack_env.prepend_path('CPATH', self.spec['podio'].prefix.include)
       spack_env.prepend_path('CPATH', self.spec['fastjet'].prefix.include)
-      spack_env.prepend_path('CPATH', self.spec['acts'].prefix.include)
-      spack_env.prepend_path('CPATH', self.spec['eigen'].prefix.include)
+      if self.spec.satisfies("@0.3.0:"):
+        spack_env.prepend_path('CPATH', self.spec['acts'].prefix.include)
+        spack_env.prepend_path('CPATH', self.spec['eigen'].prefix.include)
 
     def setup_run_environment(self, spack_env):
       spack_env.prepend_path('ROOT_INCLUDE_PATH', self.prefix.include.FCCAnalyses)
@@ -41,3 +42,9 @@ class Fccanalyses(CMakePackage, Key4hepPackage):
       # this should point to share/ by key4hep convention
       #  but we want to make it work with the tutorials
       spack_env.set("FCCANALYSES", self.prefix.python)
+
+    def cmake_args(self):
+        return [
+            self.define('CMAKE_CXX_STANDARD',
+                        self.spec['root'].variants['cxxstd'].value)
+        ]
